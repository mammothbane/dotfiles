# -*- mode: gitconfig -*-
[user]
	email = avaglir@gmail.com
	name = Nathan Perry
[core]
	excludesfile = ~/.gitignore_global
	autocrlf = input
[include]
	path = ~/.gitconfig_local
[push]
	default = current
[pull]
	rebase = true
[credential]
	helper = cache
[alias]
	g = log --graph  --decorate --all --date-order --pretty=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)' --all
	graph = log --graph  --decorate --all --date-order --pretty=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)' --all

	b = branch
	bd = branch -d
	bD = branch -D
	bn = rev-parse --abbrev-ref HEAD
	
	# "branch set-upstream" or "bullshit"
	bs = "!bname=\"$(git bn)\" && git branch --set-upstream-to=origin/$bname $bname" 

	# fails if the current branch isn't tracked
	tracked = "!git rev-parse --abbrev-ref --symbolic-full-name @{u} > /dev/null 2>&1"
	
	co = checkout
	c = commit
	s = status
	prune = remote prune origin
	p = remote prune origin

	rh = reset --hard
	dlc = reset --hard @{u} # discard local changes

	# full rebase
	rb = "! bname=\"$(git bn)\" && \
	       	git branch old-$bname && \
		git tracked && \
		git fetch && \
		git rebase origin/master"

	amend = commit --amend --no-edit

	yolo = "!git commit -m \"$(curl -s whatthecommit.com/index.txt)\""
	stashq = -c commit.gpgsign=false stash
[init]
	templatedir = ~/.git_template
